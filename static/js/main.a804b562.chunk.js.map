{"version":3,"sources":["context/index.js","config/graphql.js","components/common/Header.js","pictures/background.png","pages/Home/index.js","pages/Vote/components/Choices.js","pages/Vote/index.js","pages/Verification/verification.styles.js","pages/Verification/index.js","pages/NotFound.js","pages/Event/index.js","App.js","reportWebVitals.js","index.js"],"names":["AuthContext","React","createContext","link","createHttpLink","uri","ApolloProvider","children","token","useContext","authLink","ApolloLink","operation","forward","setContext","headers","client","ApolloClient","concat","cache","InMemoryCache","defaultOptions","mutate","errorPolicy","query","styles","container","backgroundColor","padding","title","fontStyle","fontWeight","fontSize","lineHeight","color","Header","style","parentContainer","height","backgroundImage","background","backgroundSize","display","flexDirection","alignItems","justifyContent","button","borderRadius","border","margin","text","textAlign","buttonWrapper","marginTop","Home","history","useHistory","handleClick","event","preventDefault","push","target","id","type","value","onClick","choiceContainer","image","Choices","data","onChange","useState","choosen","setChoosen","map","choice","list","lastIndex","name","lastIndexOf","substring","nim","split","pop","src","picture","alt","checked","MY_VOTE","gql","VOTE_CHOICE","Vote","setChoice","voted","setVoted","useMutation","vote","eventCode","useParams","useQuery","variables","code","error","useEffect","replace","getEventByCode","status","myVote","choiceID","then","choices","disabled","FormWrapper","FormInput","width","Button","VERIFY_ID","VERIFY_CODE","Verification","setId","setCode","ticket","setTicket","email","setEmail","message","setMessage","setToken","verifyId","verifyCode","marginBottom","placeholder","errors","verifyRegistrant","NotFound","Event","isFound","setIsFound","removeToken","refetch","graphQLErrors","App","isLoading","setIsLoading","authContext","localStorage","setItem","removeItem","getEventToken","a","getItem","Provider","basename","exact","path","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"2OAEaA,EAAeC,IAAMC,gBCQ5BC,EAAOC,yBAAe,CACxBC,IAAK,oCAIIC,EAAiB,SAAC,GAAgB,IAAfC,EAAc,EAAdA,SACrBC,EAASP,IAAMQ,WAAWT,GAA1BQ,MAEDE,EAAW,IAAIC,cAAW,SAACC,EAAWC,GAMxC,OALAD,EAAUE,WAAW,CACjBC,QAAS,CACL,sBAAuBP,KAGxBK,EAAQD,MAGbI,EAAS,IAAIC,eAAa,CAC5Bd,KAAMO,EAASQ,OAAOf,GACtBgB,MAAO,IAAIC,gBACXC,eAAe,CACXC,OAAO,CACHC,YAAY,OAEhBC,MAAM,CACFD,YAAY,UAKxB,OACI,cAAC,iBAAD,CAAUP,OAAQA,EAAlB,SACKT,K,eCjCPkB,EAAS,CACXC,UAAW,CACPC,gBAAiB,UACjBC,QAAS,aAEbC,MAAO,CACHC,UAAW,SACXC,WAAY,SACZC,SAAU,OACVC,WAAY,OACZC,MAAO,YAIAC,EAtBA,SAAC,GAAY,EAAXN,MACb,OACI,qBAAKO,MAAOX,EAAOC,UAAnB,SACI,sBAAMU,MAAOX,EAAOI,MAApB,SAA4B,qBCJzB,MAA0B,uCCyBnCJ,EAAS,CACXY,gBAAgB,CACZC,OAAQ,QACRC,gBAAgB,OAAD,OAASC,EAAT,KACfC,eAAe,SAEnBf,UAAU,CACNgB,QAAS,OACTJ,OAAO,OACPK,cAAe,MACfC,WAAY,SACZC,eAAgB,SAChBjB,QAAS,IAEbkB,OAAQ,CACJlB,QAAS,WACTD,gBAAiB,UACjBoB,aAAc,OACdC,OAAQ,OACRhB,SAAU,GACVE,MAAO,QACPe,OAAQ,IAEZC,KAAM,CACFnB,WAAY,OACZC,SAAU,OACVE,MAAO,QACPiB,UAAW,UAEfC,cAAc,CACVV,QAAS,OACTG,eAAe,SACfD,WAAW,SACXS,UAAU,KAIHC,EAxDF,WACT,IAAMC,EAAUC,cAEVC,EAAc,SAACC,GACjBA,EAAMC,iBACNJ,EAAQK,KAAKF,EAAMG,OAAOC,KAG9B,OACI,sBAAK1B,MAAOX,EAAOY,gBAAnB,UACI,cAAC,EAAD,CAAQR,MAAM,kBACd,sBAAKO,MAAOX,EAAOC,UAAnB,UACI,uBAAOU,MAAOX,EAAOqB,OAAQgB,GAAG,QAAQC,KAAK,SAASC,MAAM,cAAcC,QAASR,IACnF,uBAAOrB,MAAOX,EAAOqB,OAAQgB,GAAG,UAAUC,KAAK,SAASC,MAAM,gBAAgBC,QAASR,W,gBCuBjGhC,EAAS,CACXC,UAAU,CACNgB,QAAQ,OACRE,WAAW,SACXD,cAAc,OAElBuB,gBAAgB,CACZxB,QAAQ,OACRE,WAAW,SACXD,cAAc,SACdM,OAAO,IAEXkB,MAAM,CACF7B,OAAO,KAEXY,KAAM,CACFnB,WAAY,OACZC,SAAU,OACVE,MAAO,QACPiB,UAAW,WAIJiB,EA/DC,SAAC,GAAsB,IAArBC,EAAoB,EAApBA,KAAMC,EAAc,EAAdA,SAAc,EACJrE,IAAMsE,SAAS,IADX,mBAC3BC,EAD2B,KAClBC,EADkB,KAG5BR,EAAU,SAACP,GACbe,EAAWf,EAAMG,OAAOG,OACxBK,EAAKK,KAAI,SAACC,GAIN,OAHIA,EAAOb,KAAOJ,EAAMG,OAAOG,OAC3BM,EAASK,GAEN,OAQTC,EAAOP,EAAKK,KAAI,SAACC,GACnB,IAAIE,EAAYF,EAAOG,KAAKC,YAAY,KACpCD,EAAOH,EAAOG,KAAKE,UAAU,EAAGH,GAChCI,EAAMN,EAAOG,KAAKI,MAAM,KAAKC,MAEjC,OACI,sBAAK/C,MAAOX,EAAOyC,gBAAnB,UACI,qBAAKkB,IAAKT,EAAOU,SAAW,GAAIjD,MAAOX,EAAO0C,MAAOmB,IAAKX,EAAOG,OAE7D,oBAAG1C,MAAOX,EAAOyB,KAAjB,UAAwB4B,EAAK,uBAAMG,KAEvC,uBAAOlB,KAAK,QAAQC,MAAOW,EAAOb,GAAIyB,QAASf,IAAYG,EAAOb,GAAIQ,SAAUL,MAL3CU,EAAOb,OAUxD,OACI,qBAAK1B,MAAOX,EAAOC,UAAnB,SACKkD,K,srBC7Bb,IA0EMnD,EAAS,CACXY,gBAAgB,CACZC,OAAQ,QACRC,gBAAgB,OAAD,OAASC,EAAT,KACfC,eAAe,SAEnBf,UAAU,CACNgB,QAAS,OACTJ,OAAO,OACPK,cAAe,SACfC,WAAY,SACZC,eAAgB,SAChBjB,QAAS,IAEbkB,OAAQ,CACJlB,QAAS,WACTD,gBAAiB,UACjBoB,aAAc,OACdC,OAAQ,OACRhB,SAAU,GACVE,MAAO,QACPe,OAAQ,IAEZC,KAAM,CACFnB,WAAY,OACZC,SAAU,OACVE,MAAO,QACPiB,UAAW,UAEfC,cAAc,CACVV,QAAS,OACTG,eAAe,SACfD,WAAW,SACXS,UAAU,KAIZmC,EAAUC,cAAH,KAiBPC,EAAcD,cAAH,KAaFE,EA7IF,WAAO,IAAD,EACa1F,IAAMsE,SAAS,MAD5B,mBACRI,EADQ,KACAiB,EADA,OAEW3F,IAAMsE,UAAS,GAF1B,mBAERsB,EAFQ,KAEDC,EAFC,OAGAC,sBAAYL,GAApBM,EAHQ,oBAIRC,EAAaC,cAAbD,UACD1C,EAAUC,cALD,EAMO2C,mBAASX,EAAS,CACpCY,UAAU,CACNC,KAAMJ,KAFP5B,EANQ,EAMRA,KAAMiC,EANE,EAMFA,MAMbrG,IAAMsG,WAAU,WACRD,GACA/C,EAAQiD,QAAQ,IAAMP,IAEtB5B,GAAwC,WAA/BA,EAAKoC,eAAeC,SAAuC,IAAhBrC,EAAKsC,QACzDpD,EAAQiD,QAAQ,IAAMP,KAE3B,CAAC5B,EAAMiC,EAAOL,EAAW1C,IAyB5B,OAAKc,EAUD,sBAAKjC,MAAOX,EAAOY,gBAAnB,UACI,cAAC,EAAD,CAAQR,MAAM,kBACbgE,EACA,sBAAKzD,MAAOX,EAAOC,UAAnB,UACG,sBAAMU,MAAOX,EAAOyB,KAApB,4CACA,sBAAKd,MAAOX,EAAO2B,cAAnB,UACI,uBAAOhB,MAAK,2BAAMX,EAAOqB,QAAb,IAAqBnB,gBAAgB,UAAUoC,KAAK,SAASC,MAAM,SAASC,QA3BvF,WACb+B,EAAK,CACDI,UAAU,CACNC,KAAMJ,EACNW,SAAUjC,EAAOb,MAEtB+C,MAAK,WACJtD,EAAQiD,QAAQ,IAAMP,SAqBd,uBAAO7D,MAAOX,EAAOqB,OAAQiB,KAAK,SAASC,MAAM,SAASC,QAhCzD,WACb6B,GAAS,YAkCJ,sBAAK1D,MAAOX,EAAOC,UAAnB,UACG,uCAAUuE,KACV,cAAC,EAAD,CAAS5B,KAAMA,EAAKoC,eAAeK,QAASxC,SA7CvC,SAACK,GACdiB,EAAUjB,MA6CF,uBAAOvC,MAAOX,EAAOqB,OAAQiB,KAAK,SAASC,MAAM,OAAOC,QA1CrD,WACX6B,GAAS,IAyCwEiB,UAAWpC,UApBxF,qBAAKvC,MAAOX,EAAOY,gBAAnB,SACI,cAAC,EAAD,CAAQR,MAAM,qBCxDjBmF,EAAc,CACvBtE,QAAS,OACTC,cAAe,SACfC,WAAY,SACZC,eAAgB,SAChBP,OAAQ,MACRV,QAAS,IAGAqF,EAAY,CACrBrF,QAAS,QACTsF,MAAO,MACP/D,UAAW,SACXnB,SAAU,GACVgB,OAAQ,sBACRD,aAAc,IAGLoE,EAAS,CAClBvF,QAAS,WACTD,gBAAiB,UACjBoB,aAAc,OACdC,OAAQ,OACRhB,SAAU,GACVE,MAAO,QACPmB,UAAW,I,oZCjBf,IA8GM5B,EAAS,CACXY,gBAAgB,CACZC,OAAQ,QACRC,gBAAgB,OAAD,OAASC,EAAT,KACfC,eAAe,SAEnBf,UAAU,CACNgB,QAAS,OACTJ,OAAO,OACPK,cAAe,SACfC,WAAY,SACZC,eAAgB,SAChBjB,QAAS,KAIXwF,EAAY3B,cAAH,KAST4B,EAAc5B,cAAH,KAMF6B,EA7IM,WACjB,IAAM/D,EAAUC,cACTyC,EAAaC,cAAbD,UAFgB,EAGHhG,IAAMsE,SAAS,IAHZ,mBAGhBT,EAHgB,KAGZyD,EAHY,OAICtH,IAAMsE,SAAS,IAJhB,mBAIhB8B,EAJgB,KAIVmB,EAJU,OAKKvH,IAAMsE,SAAS,IALpB,mBAKhBkD,EALgB,KAKRC,EALQ,OAMGzH,IAAMsE,SAAS,IANlB,mBAMhBoD,EANgB,KAMTC,EANS,OAOO3H,IAAMsE,SAAS,IAPtB,mBAOhBsD,EAPgB,KAOPC,EAPO,KAQhBC,EAAY9H,IAAMQ,WAAWT,GAA7B+H,SARgB,EASJhC,sBAAYqB,GAAxBY,EATgB,sBAUFjC,sBAAYsB,GAA1BY,EAVgB,oBAYvBhI,IAAMsG,WAAU,WACZuB,EAAW,MACb,CAACL,EAAQ3D,EAAIuC,IAsDf,OACI,sBAAKjE,MAAOX,EAAOY,gBAAnB,UACI,cAAC,EAAD,CAAQR,MAAM,kBACd,uBAAMO,MAAO4E,EAAb,UACI,sBACI5E,MAAO,CACHL,WAAY,SACZC,SAAS,GAAD,OAAgB,KAAXyF,EAAgB,OAAS,QACtCS,aAAc,GACdhG,MAAO,QACPiB,UAAW,UANnB,SASgB,KAAXsE,EAAgB,iBAAhB,6CAAyEE,KAE9E,uBACI5D,KAAK,OACL3B,MAAO6E,EACPkB,YAAwB,KAAXV,EAAgB,MAAQ,OACrCzD,MAAgB,KAATyD,EAAa3D,EAAKuC,EACzB/B,SAAmB,KAATmD,EAxEH,SAAC/D,GACpB6D,EAAM7D,EAAMG,OAAOG,QAyBE,SAACN,GACtB8D,EAAQ9D,EAAMG,OAAOG,UA+Cb,sBACI5B,MAAO,CACHF,MAAM,MACNmB,UAAU,IAHlB,SAMKwE,IAEL,wBACI9D,KAAK,SACL3B,MAAO+E,EACPlD,QAAkB,KAATwD,EAjFG,SAAC/D,GACzBA,EAAMC,iBACNqE,EAAS,CACL5B,UAAU,CACNC,KAAMJ,EACNnC,GAAIA,KAET+C,MAAK,YAAqB,IAAnBxC,EAAkB,EAAlBA,KAAM+D,EAAY,EAAZA,OACZ,GAAIA,EAAO,CACP,IAAMP,EAAUO,EAAO,GAAGP,QAEtBC,EADY,iBAAZD,EACW,wCAEAA,QAGfH,EAAUrD,EAAKgE,iBAAiBZ,QAChCG,EAASvD,EAAKgE,iBAAiBV,WASb,SAACjE,GAC3BA,EAAMC,iBACNsE,EAAW,CACP7B,UAAU,CACNC,OACAoB,YAELZ,MAAK,YAAqB,IAAnBxC,EAAkB,EAAlBA,KAAM+D,EAAY,EAAZA,OACZ,GAAIA,EAAO,CACP,IAAMP,EAAUO,EAAO,GAAGP,QAEtBC,EADY,iBAAZD,EACW,gDAEAA,QAGfE,EAAS1D,EAAK4D,YACd1E,EAAQiD,QAAQ,IAAMP,OAmCtB,SAKK,iBCrGfxE,EAAS,CACXC,UAAU,CACNY,OAAQ,QACRC,gBAAgB,OAAD,OAASC,EAAT,KACfE,QAAS,OACTC,cAAe,SACfC,WAAY,SACZC,eAAgB,UAEpBK,KAAM,CACFnB,WAAY,SACZC,SAAU,OACVkG,aAAc,GACdhG,MAAO,QACPiB,UAAW,WAIJmF,EAzBE,kBACb,sBAAKlG,MAAOX,EAAOC,UAAnB,UACI,cAAC,EAAD,CAAQG,MAAM,kBACd,sBAAMO,MAAOX,EAAOyB,KAApB,2B,mcCGR,IAyEMzB,EAAS,CACXY,gBAAgB,CACZC,OAAQ,QACRC,gBAAgB,OAAD,OAASC,EAAT,KACfC,eAAe,SAEnBf,UAAU,CACNgB,QAAS,OACTJ,OAAO,OACPK,cAAe,SACfC,WAAY,SACZC,eAAgB,SAChBjB,QAAS,IAEbsB,KAAM,CACFnB,WAAY,SACZC,SAAU,OACVkG,aAAc,GACdhG,MAAO,QACPiB,UAAW,UAEfL,OAAQ,CACJlB,QAAS,WACTD,gBAAiB,UACjBoB,aAAc,OACdC,OAAQ,OACRhB,SAAU,GACVE,MAAO,QACPmB,UAAW,KAIbmC,EAAUC,cAAH,KAoBE8C,EA7HD,WACV,IAAMhF,EAAUC,cADA,EAEcvD,IAAMsE,UAAS,GAF7B,mBAETiE,EAFS,KAEAC,EAFA,KAGTC,EAAezI,IAAMQ,WAAWT,GAAhC0I,YACAzC,EAAaC,cAAbD,UAJS,EAKeE,mBAASX,EAAS,CAC7CY,UAAU,CACNC,KAAMJ,KAFP5B,EALS,EAKTA,KAAMiC,EALG,EAKHA,MAAOqC,EALJ,EAKIA,QAMpB1I,IAAMsG,WAAU,WACRD,GAA4C,oBAAnCA,EAAMsC,cAAc,GAAGf,SAChCY,GAAW,GAEXnC,GAA4C,iBAAnCA,EAAMsC,cAAc,GAAGf,SAChCtE,EAAQiD,QAAQP,EAAY,WAE5B5B,GAAuC,SAA/BA,EAAKoC,eAAeC,SAAqC,IAAhBrC,EAAKsC,QACtDpD,EAAQiD,QAAQP,EAAY,WAEjC,CAAC5B,EAAMiC,EAAOL,EAAW1C,IAE5BtD,IAAMsG,WAAU,WACZoC,MACD,CAACpF,EAASoF,IAOb,OAAKH,EAMAnE,EAUD,sBAAKjC,MAAOX,EAAOY,gBAAnB,UACI,cAAC,EAAD,CAAQR,MAAM,kBACd,sBAAKO,MAAOX,EAAOC,UAAnB,UACI,sBAAMU,MAAOX,EAAOyB,KAApB,wCAGA,uBAAMd,MAAOX,EAAOyB,KAApB,iDACyCmB,EAAKoC,eAAe3B,QAO7D,uBACIf,KAAK,SACLC,MAAM,SACN5B,MAAOX,EAAOqB,OACdmB,QAvCK,WACjByE,IACAnF,EAAQiD,QAAQ,aAYZ,qBAAKpE,MAAOX,EAAOY,gBAAnB,SACI,cAAC,EAAD,CAAQR,MAAM,oBARlB,cAAC,EAAD,K,MCoBGgH,MAnDf,WAAgB,IAAD,EACa5I,IAAMsE,SAAS,IAD5B,mBACN/D,EADM,KACCuH,EADD,OAEqB9H,IAAMsE,UAAS,GAFpC,mBAENuE,EAFM,KAEKC,EAFL,KAIPC,EAAc,CAClBxI,MAAOA,EACPuH,SAAU,SAACvH,GACTyI,aAAaC,QAAQ,aAAc1I,GACnCuH,EAASvH,IAEXkI,YAAa,WACXO,aAAaE,WAAW,cACxBpB,EAAS,MAgBb,OAZA9H,IAAMsG,WAAU,WACd,IAAM6C,EAAa,uCAAG,4BAAAC,EAAA,sEACAJ,aAAaK,QAAQ,cADrB,OAEN,QADR9I,EADc,SAGlBuH,EAASvH,GAHS,2CAAH,qDAMnBuI,GAAa,GACbK,IACAL,GAAa,KACb,IAEED,EAEA,wBAKF,cAAC9I,EAAYuJ,SAAb,CAAsBvF,MAAOgF,EAA7B,SACE,cAAC,EAAD,UACE,cAAC,IAAD,CAAeQ,SAAS,SAAxB,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOC,OAAK,EAACC,KAAI,IAAOC,UAAWrG,IACnC,cAAC,IAAD,CAAOmG,OAAK,EAACC,KAAI,cAAiBC,UAAWpB,IAC7C,cAAC,IAAD,CAAOkB,OAAK,EAACC,KAAI,mBAAsBC,UAAWhE,IAClD,cAAC,IAAD,CAAO8D,OAAK,EAACC,KAAI,qBAAwBC,UAAWrC,IACpD,cAAC,IAAD,CAAOmC,OAAK,EAACC,KAAI,KAAQC,UAAWrB,cC3CjCsB,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBjD,MAAK,YAAkD,IAA/CkD,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1BZ,M","file":"static/js/main.a804b562.chunk.js","sourcesContent":["import React from 'react'\n\nexport const AuthContext =  React.createContext()","import React from 'react'\nimport {\n    ApolloClient, \n    InMemoryCache, \n    ApolloLink, \n    createHttpLink, \n    ApolloProvider as Provider\n} from '@apollo/client'\nimport {AuthContext} from '../context'\n\nconst link = createHttpLink({\n    uri: 'https://berisuara.herokuapp.com',\n    // uri: 'http://localhost:8000'\n})\n\nexport const ApolloProvider = ({children}) => {\n    const {token} = React.useContext(AuthContext)\n\n    const authLink = new ApolloLink((operation, forward) => {\n        operation.setContext({\n            headers: {\n                'Event-Authorization': token,\n            }\n        })\n        return forward(operation)\n    })\n\n    const client = new ApolloClient({\n        link: authLink.concat(link),\n        cache: new InMemoryCache(),\n        defaultOptions:{\n            mutate:{\n                errorPolicy:\"all\"\n            },\n            query:{\n                errorPolicy:\"all\"\n            }\n        }\n    })\n\n    return(\n        <Provider client={client}>\n            {children}\n        </Provider>\n    )\n}","\nconst Header = ({title}) => {\n    return(\n        <div style={styles.container}>\n            <span style={styles.title}>{'PEMIRA HIMAFI'}</span>\n        </div>\n    )\n}\n\nconst styles = {\n    container: {\n        backgroundColor: '#A74242',\n        padding: '18px 24px',\n    },\n    title: {\n        fontStyle: 'normal',\n        fontWeight: 'normal',\n        fontSize: '24px',\n        lineHeight: '29px',\n        color: '#FDF5F5',\n    }\n}\n\nexport default Header","export default __webpack_public_path__ + \"static/media/background.80277337.png\";","import React from 'react'\nimport {useHistory} from 'react-router-dom'\n\nimport Header from '../../components/common/Header'\nimport background from '../../pictures/background.png'\n\nconst Home = () => {\n    const history = useHistory()\n\n    const handleClick = (event) => {\n        event.preventDefault()\n        history.push(event.target.id)\n    }\n\n    return(\n        <div style={styles.parentContainer}>\n            <Header title='Pemira Himafi'/>\n            <div style={styles.container}>\n                <input style={styles.button} id='kahim' type='button' value='Pilih Kahim' onClick={handleClick}/>\n                <input style={styles.button} id='senator' type='button' value='Pilih Senator' onClick={handleClick}/>\n            </div>\n        </div>\n    )\n}\n\nconst styles = {\n    parentContainer:{\n        height: '100vh', \n        backgroundImage: `url(${background})`, \n        backgroundSize:'cover'\n    },\n    container:{\n        display: 'flex',\n        height:'80vh',\n        flexDirection: 'row',\n        alignItems: 'center',\n        justifyContent: 'center',\n        padding: 10,\n    },\n    button: {\n        padding: '8px 24px',\n        backgroundColor: '#A74242',\n        borderRadius: '20px',\n        border: 'none',\n        fontSize: 15,\n        color: 'white',\n        margin: 20,\n    },\n    text: {\n        fontWeight: 'bold',\n        fontSize: '20px',\n        color: 'white',\n        textAlign: 'center'\n    },\n    buttonWrapper:{\n        display: 'flex',\n        justifyContent:'center',\n        alignItems:'center',\n        marginTop:10,\n    }\n}\n\nexport default Home","import React from 'react'\n\nconst Choices = ({data, onChange}) => {\n    const [choosen, setChoosen] = React.useState(\"\")\n\n    const onClick = (event) => {\n        setChoosen(event.target.value)\n        data.map((choice) => {\n            if (choice.id === event.target.value){\n                onChange(choice)\n            }\n            return \"\"\n        })\n    }\n\n    const onClick1 = (event) => {\n        console.log(event.target);\n    }\n\n    const list = data.map((choice) => {\n        var lastIndex = choice.name.lastIndexOf(\" \");\n        var name = choice.name.substring(0, lastIndex);\n        var nim = choice.name.split(\" \").pop()\n\n        return(\n            <div style={styles.choiceContainer} key={choice.id}>\n                <img src={choice.picture || ''} style={styles.image} alt={choice.name}></img>\n                {/* <div style={{backgroundColor:'blue'}}> */}\n                    <p style={styles.text}>{name}<br/>{nim}</p>\n                {/* </div> */}\n                <input type='radio' value={choice.id} checked={choosen === choice.id} onChange={onClick}/>\n            </div>\n        )\n    })\n\n    return(\n        <div style={styles.container}>\n            {list}\n        </div>\n    )\n}\n\nconst styles = {\n    container:{\n        display:'flex',\n        alignItems:'center',\n        flexDirection:'row',\n    },\n    choiceContainer:{\n        display:'flex',\n        alignItems:'center',\n        flexDirection:'column',\n        margin:20,\n    },\n    image:{\n        height:150,\n    },\n    text: {\n        fontWeight: 'bold',\n        fontSize: '18px',\n        color: 'white',\n        textAlign: 'center'\n    },\n}\n\nexport default Choices\n\nconst photos = `\nhttps://i.ibb.co/mBbPXWX/CASENATOR-NO-URUT-2-NAZLIAH-AZZAHRA-10218096.jpg\nhttps://i.ibb.co/v106zRF/CASENATOR-NO-URUT-1-MULIA-SW-10218090.jpg\nhttps://i.ibb.co/mcdMkJM/CAKAHIM-NO-URUT-2-M-FAIZ-ALDIZA-10218042.jpg\nhttps://i.ibb.co/jZKHwQW/CAKAHIM-NO-URUT-1-DARUL-RONI-R-10218110.jpg`","import React from 'react'\nimport {gql, useQuery, useMutation} from '@apollo/client'\nimport {useParams, useHistory} from 'react-router-dom'\n\nimport Choices from './components/Choices'\nimport Header from '../../components/common/Header'\nimport background from '../../pictures/background.png'\n\nconst Vote = () => {\n    const [choice, setChoice] = React.useState(null)\n    const [voted, setVoted] = React.useState(false)\n    const [vote] = useMutation(VOTE_CHOICE)\n    const {eventCode} = useParams()\n    const history = useHistory()\n    const {data, error} = useQuery(MY_VOTE, {\n        variables:{\n            code: eventCode,\n        }\n    })\n\n    React.useEffect(() => {\n        if (error) {\n            history.replace(\"/\" + eventCode)\n        }\n        if (data && (data.getEventByCode.status === \"closed\" || data.myVote === true)) {\n            history.replace(\"/\" + eventCode)\n        }\n    }, [data, error, eventCode, history])\n\n    const onChoose = (choice) => {\n        setChoice(choice)\n    }\n\n    const onVote = () => {\n        setVoted(true)\n    }\n\n    const onCancel = () => {\n        setVoted(false)\n    }\n\n    const onSubmit = () => {\n        vote({\n            variables:{\n                code: eventCode,\n                choiceID: choice.id\n            }\n        }).then(() => {\n            history.replace(\"/\" + eventCode)\n        })\n    }\n\n    if (!data) {\n        // Loading\n        return(\n            <div style={styles.parentContainer}>\n                <Header title='Pemira Himafi'/>\n            </div>\n        )\n    }\n\n    return(\n        <div style={styles.parentContainer}>\n            <Header title='Pemira Himafi'/>\n            {voted\n            ?<div style={styles.container}>\n                <span style={styles.text}>Are you sure with your choice?</span>\n                <div style={styles.buttonWrapper}>\n                    <input style={{...styles.button, backgroundColor:'green'}} type='button' value='Submit' onClick={onSubmit}/>\n                    <input style={styles.button} type='button' value='Cancel' onClick={onCancel}/>\n                </div>\n            </div>\n            :<div style={styles.container}>\n                <p>vote: {eventCode}</p>\n                <Choices data={data.getEventByCode.choices} onChange={onChoose}/>\n                <input style={styles.button} type='button' value='Vote' onClick={onVote} disabled={!choice}/>\n            </div>\n            }\n        </div>\n    )\n}\n\nconst styles = {\n    parentContainer:{\n        height: '100vh', \n        backgroundImage: `url(${background})`, \n        backgroundSize:'cover'\n    },\n    container:{\n        display: 'flex',\n        height:'80vh',\n        flexDirection: 'column',\n        alignItems: 'center',\n        justifyContent: 'center',\n        padding: 10,\n    },\n    button: {\n        padding: '8px 24px',\n        backgroundColor: '#A74242',\n        borderRadius: '20px',\n        border: 'none',\n        fontSize: 15,\n        color: 'white',\n        margin: 20,\n    },\n    text: {\n        fontWeight: 'bold',\n        fontSize: '20px',\n        color: 'white',\n        textAlign: 'center'\n    },\n    buttonWrapper:{\n        display: 'flex',\n        justifyContent:'center',\n        alignItems:'center',\n        marginTop:10,\n    }\n}\n\nconst MY_VOTE = gql`\n    query($code: String!){\n        getEventByCode(code:$code){\n            id\n            name\n            picture\n            status\n            choices{\n              id\n              name\n              picture\n            }\n        }\n        myVote(eventCode: $code)\n    }\n`\n\nconst VOTE_CHOICE = gql`\n    mutation($code: String!, $choiceID: ID!){\n        vote(eventCode: $code, choiceID: $choiceID){\n            id\n            votedRegistrantsCount\n            choices{\n                id\n                voteCount\n            }\n        }        \n    }\n`\n\nexport default Vote","export const FormWrapper = {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    justifyContent: 'center',\n    height: '70%',\n    padding: 24\n}\n\nexport const FormInput = {\n    padding: '8px 0',\n    width: '60%',\n    textAlign: 'center',\n    fontSize: 18,\n    border: '0.8px solid #7C7C7C',\n    borderRadius: 20\n}\n\nexport const Button = {\n    padding: '8px 24px',\n    backgroundColor: '#A74242',\n    borderRadius: '20px',\n    border: 'none',\n    fontSize: 15,\n    color: 'white',\n    marginTop: 16\n}","import React from 'react'\nimport {useMutation, gql} from '@apollo/client'\nimport {useParams, useHistory} from 'react-router-dom'\nimport {AuthContext} from '../../context'\nimport { FormWrapper, FormInput, Button } from './verification.styles'\nimport Header from '../../components/common/Header'\nimport background from '../../pictures/background.png'\n\nconst Verification = () => {\n    const history = useHistory()\n    const {eventCode} = useParams()\n    const [id, setId] = React.useState(\"\")\n    const [code, setCode] = React.useState(\"\")\n    const [ticket, setTicket] = React.useState(\"\")\n    const [email, setEmail] = React.useState(\"\")\n    const [message, setMessage] = React.useState(\"\")\n    const {setToken} = React.useContext(AuthContext)\n    const [verifyId] = useMutation(VERIFY_ID)\n    const [verifyCode] = useMutation(VERIFY_CODE)\n\n    React.useEffect(() => {\n        setMessage(\"\")\n    },[ticket, id, code])\n\n    const handleIdChange = (event) => {\n        setId(event.target.value)\n    }\n\n    const handleVerifyIdClick = (event) => {\n        event.preventDefault()\n        verifyId({\n            variables:{\n                code: eventCode,\n                id: id,\n            }\n        }).then(({data, errors}) => {\n            if (errors){\n                const message = errors[0].message\n                if (message === \"unauthorized\") {\n                    setMessage(\"You are not registered in this event.\")\n                } else {\n                    setMessage(message)\n                }\n            } else {\n                setTicket(data.verifyRegistrant.ticket)\n                setEmail(data.verifyRegistrant.email)\n            }\n        })\n    }\n\n    const handleCodeChange = (event) => {\n        setCode(event.target.value)\n    }\n\n    const handleVerifyCodeClick = (event) => {\n        event.preventDefault()\n        verifyCode({\n            variables:{\n                code,\n                ticket,\n            }\n        }).then(({data, errors}) => {\n            if (errors){\n                const message = errors[0].message\n                if (message === \"unauthorized\") {\n                    setMessage(\"Code already expired. Please reload the page.\")\n                } else {\n                    setMessage(message)\n                }\n            } else {\n                setToken(data.verifyCode)\n                history.replace(\"/\" + eventCode)\n            }\n        })\n    }\n\n    return(\n        <div style={styles.parentContainer}>\n            <Header title='Pemira Himafi'/>\n            <form style={FormWrapper}>\n                <span\n                    style={{\n                        fontWeight: 'normal',\n                        fontSize: `${ticket === '' ? '24px' : '18px'}`,\n                        marginBottom: 40,\n                        color: 'white',\n                        textAlign: 'center'\n                    }}\n                >\n                    {ticket === '' ? 'Enter Your NIM' : `Verification code has been sent to ${email}`}\n                </span>\n                <input \n                    type=\"text\"\n                    style={FormInput}\n                    placeholder={ticket === '' ? 'NIM' : 'Code'}\n                    value={ticket===\"\"? id : code}\n                    onChange={ticket===\"\"? handleIdChange : handleCodeChange}\n                />\n                <span \n                    style={{\n                        color:'red',\n                        marginTop:12,\n                    }}\n                >\n                    {message}\n                </span>\n                <button\n                    type=\"submit\"\n                    style={Button}\n                    onClick={ticket===\"\"? handleVerifyIdClick :handleVerifyCodeClick}\n                >\n                    {'Enter'}\n                </button>\n            </form>\n        </div>\n    )\n}\n\nconst styles = {\n    parentContainer:{\n        height: '100vh', \n        backgroundImage: `url(${background})`, \n        backgroundSize:'cover'\n    },\n    container:{\n        display: 'flex',\n        height:'80vh',\n        flexDirection: 'column',\n        alignItems: 'center',\n        justifyContent: 'center',\n        padding: 10,\n    },\n}\n\nconst VERIFY_ID = gql`\n    mutation($code: String!, $id: String!){\n        verifyRegistrant(eventCode: $code, id: $id){\n            ticket\n            email\n        }\n    }\n`\n\nconst VERIFY_CODE = gql`\n    mutation($code: String!, $ticket: String!){\n        verifyCode(code: $code, ticket: $ticket)\n    }\n`\n\nexport default Verification","import background from '../pictures/background.png'\nimport Header from '../components/common/Header'\n\nconst NotFound = () => (\n    <div style={styles.container}>\n        <Header title='Pemira Himafi'/>\n        <span style={styles.text}>Not Found</span>\n    </div>\n)\n\nconst styles = {\n    container:{\n        height: '100vh', \n        backgroundImage: `url(${background})`, \n        display: 'flex', \n        flexDirection: 'column',\n        alignItems: 'center',\n        justifyContent: 'center'\n    },\n    text: {\n        fontWeight: 'normal',\n        fontSize: '24px',\n        marginBottom: 40,\n        color: 'white',\n        textAlign: 'center'\n    },\n}\n\nexport default NotFound","import React from 'react'\nimport {useParams, useHistory} from 'react-router-dom'\nimport {gql, useQuery} from '@apollo/client'\nimport {AuthContext} from '../../context'\n\nimport NotFound from '../NotFound'\nimport background from '../../pictures/background.png'\nimport Header from '../../components/common/Header'\n\nconst Event = () => {\n    const history = useHistory()\n    const [isFound, setIsFound] = React.useState(true)\n    const {removeToken} = React.useContext(AuthContext)\n    const {eventCode} = useParams()\n    const {data, error, refetch} = useQuery(MY_VOTE, {\n        variables:{\n            code: eventCode,\n        }\n    }) \n\n    React.useEffect(() => {\n        if (error && error.graphQLErrors[0].message === \"event not found\") {\n            setIsFound(false)\n        }\n        if (error && error.graphQLErrors[0].message === \"unauthorized\") {\n            history.replace(eventCode + '/verify')\n        }\n        if (data && data.getEventByCode.status === \"open\" && data.myVote === false) {\n            history.replace(eventCode + '/vote')\n        }                              \n    }, [data, error, eventCode, history])\n\n    React.useEffect(() => {\n        refetch()\n    }, [history, refetch])\n\n    const handleLogout = () => {\n        removeToken()\n        history.replace(\"\")\n    }\n\n    if (!isFound) {\n        return(\n            <NotFound/>\n        )\n    }\n\n    if (!data) {\n        // Loading\n        return(\n            <div style={styles.parentContainer}>\n                <Header title='Pemira Himafi'/>\n            </div>\n        )\n    }\n\n    return(\n        <div style={styles.parentContainer}>\n            <Header title='Pemira Himafi'/>\n            <div style={styles.container}>\n                <span style={styles.text}>\n                    You already used your vote\n                </span>\n                <span style={styles.text}>\n                    Thank you for your participation on {data.getEventByCode.name}\n                </span>\n                {/* <p>event: {data.getEventByCode.name}</p>\n                <p>status: {data.getEventByCode.status}</p>\n                <p>total participant: {data.getEventByCode.registrantsCount}</p>\n                <p>total voted: {data.getEventByCode.votedRegistrantsCount}</p>\n                <Choices data={data.getEventByCode.choices}/> */}\n                <input\n                    type='button'\n                    value='Logout'\n                    style={styles.button}\n                    onClick={handleLogout}\n                />\n            </div>\n        </div>\n    )\n}\n\nconst styles = {\n    parentContainer:{\n        height: '100vh', \n        backgroundImage: `url(${background})`, \n        backgroundSize:'cover'\n    },\n    container:{\n        display: 'flex',\n        height:'80vh',\n        flexDirection: 'column',\n        alignItems: 'center',\n        justifyContent: 'center',\n        padding: 10,\n    },\n    text: {\n        fontWeight: 'normal',\n        fontSize: '24px',\n        marginBottom: 40,\n        color: 'white',\n        textAlign: 'center'\n    },\n    button: {\n        padding: '8px 24px',\n        backgroundColor: '#A74242',\n        borderRadius: '20px',\n        border: 'none',\n        fontSize: 15,\n        color: 'white',\n        marginTop: 16\n    }\n}\n\nconst MY_VOTE = gql`\n    query($code: String!){\n        getEventByCode(code:$code){\n            id\n            name\n            picture\n            status\n            registrantsCount\n            votedRegistrantsCount\n            choices{\n              id\n              name\n              picture\n              voteCount\n            }\n        }\n        myVote(eventCode: $code)\n    }\n`\n\nexport default Event","import React from 'react'\nimport {ApolloProvider} from './config/graphql'\nimport {AuthContext} from './context'\nimport {BrowserRouter, Switch, Route} from 'react-router-dom'\nimport Home from './pages/Home'\nimport Vote from './pages/Vote'\nimport Verification from './pages/Verification'\nimport Event from './pages/Event'\nimport NotFound from './pages/NotFound'\n\nimport './App.css';\n\nfunction App() {\n  const [token, setToken] = React.useState(\"\")\n  const [isLoading, setIsLoading] = React.useState(true)\n\n  const authContext = {\n    token: token,\n    setToken: (token) => {\n      localStorage.setItem(\"eventToken\", token)\n      setToken(token)\n    },\n    removeToken: () => {\n      localStorage.removeItem(\"eventToken\")\n      setToken(\"\")\n    },\n  }\n\n  React.useEffect(() => {\n    const getEventToken = async () => {\n      const token = await localStorage.getItem(\"eventToken\")\n      if (token !== null) {\n        setToken(token)\n      }\n    }\n    setIsLoading(true)\n    getEventToken()\n    setIsLoading(false)\n  },[])\n\n  if (isLoading) {\n    return(\n      <div></div>\n    )\n  }\n\n  return (\n    <AuthContext.Provider value={authContext}>\n      <ApolloProvider>\n        <BrowserRouter basename='pemira'>\n          <Switch>\n            <Route exact path={`/`} component={Home}/>\n            <Route exact path={`/:eventCode`} component={Event}/>\n            <Route exact path={`/:eventCode/vote`} component={Vote}/>\n            <Route exact path={`/:eventCode/verify`} component={Verification}/>\n            <Route exact path={`/*`} component={NotFound}/>\n          </Switch>\n        </BrowserRouter>\n      </ApolloProvider>\n    </AuthContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}